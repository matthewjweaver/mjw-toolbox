nodeless="{ \
  76.24.24.65, \
  155.138.220.216, \
  207.148.3.69 }"

queue fq on vio0 flows 2048 bandwidth 250M max 250M qlimit 2048 default

set skip on { lo, enc0, vether0 }
block drop log

# vpn
pass in  log quick on egress proto esp from $nodeless to egress:0
pass out log quick on egress proto esp from egress:0 to $nodeless
pass in  log quick on egress proto udp from $nodeless to egress:0 \
  port { ipsec-nat-t, isakmp } keep state
pass out log quick on egress proto udp from egress:0 to $nodeless \
  port { ipsec-nat-t, isakmp } keep state

# external interface
pass out on egress keep state
pass in on egress proto tcp from any to egress \
  port { domain, https, ssh, www } keep state
pass in on egress proto udp from any to egress \
  port { domain } keep state
pass in log on egress inet proto icmp \
  from $nodeless to egress \
  icmp-type 8 code 0 keep state

